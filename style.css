/* Updated style.css â€” tuned for your main-couple.png */
*{
  box-sizing:border-box;
  margin:0;padding:0
}
html,body{
  height:100%
}
body{
  background:#000;color:#fff;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow:hidden;
}

/* scene */
.scene{
  position:relative;
  width:100vw;
  height:100vh;
  overflow:hidden;
  padding-bottom: env(safe-area-inset-bottom, 0);
}
.bg-video{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:1;
  pointer-events:none
}
.night-overlay{
  position:absolute;
  inset:0;
  background:radial-gradient(circle at top, rgba(0,0,0,0.92),#000 60%);
  opacity:0.88;
  z-index:2;
  transition:opacity 2s
}
.night-overlay.fade-out{
  opacity:0.22
}
.stars{
  position:absolute;
  inset:0;
  z-index:3;
  pointer-events:none
}
.star{
  position:absolute;
  width:2px;
  height:2px;
  border-radius:50%;
  background:#fff;
  opacity:0;
  animation:twinkle 3s infinite ease-in-out;
  animation-delay:var(--delay)
}
.moon{
  position:absolute;
  top:14vh;
  left:50%;
  transform:translateX(-50%);
  width:110px;
  height:110px;
  border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #fff,#e9e9e9 45%, #bbb 80%);
  opacity:0;
  z-index:4;
  box-shadow:0 0 20px rgba(255,255,255,.85);
  transition:opacity 2s
}
.moon.visible{
  opacity:1
}

/* couple image centered */

.couple{
  position:absolute;
  left:50%;
  bottom:0;
  transform:translateX(-50%);
  width: min(92vw, 520px);
  max-width: 100%;
  height: auto;
  max-height: 72vh;
  z-index:5;
  pointer-events:none;
  image-rendering: -webkit-optimize-contrast;
}

/* dialogue container (semantic only) */
.dialogue{
  position:absolute;
  left:0;
  bottom:0;
  width:100%;
  z-index:6;
  pointer-events:none
}
#lineContainer{
  position:relative;
  height:0
}

/* DYNAMIC BUBBLES appended to body and placed fixed by JS */
.line{
  position:fixed;
  max-width:360px;
  padding:10px 14px;
  border-radius:14px;
  border:1px solid rgba(200,200,220,0.12);
  backdrop-filter:blur(8px);box-shadow:0 10px 30px rgba(0,0,0,0.6);
  color:#fff;
  font-size:clamp(0.95rem,1.8vw,1.12rem);
  line-height:1.2;
  opacity:0;
  transform:translateY(6px); 
  transition:opacity .36s ease, transform .36s ease; 
  z-index:1001;
}
.line.visible{
  opacity:1;
  transform:translateY(0);
}

/* visuals */
.line.her{ 
  background: linear-gradient(180deg, rgba(10,15,30,0.95), rgba(8,12,24,0.92)) 
}
.line.me { 
  background: linear-gradient(180deg, rgba(18,18,32,0.95), rgba(14,14,28,0.92)) 
}
.line.narrator{ 
  background: rgba(24,24,40,0.72); 
  border-style:dashed; 
  max-width:70vw; 
  font-size:clamp(0.95rem,1.4vw,1.05rem); 
}

/* speaker label */
.speaker{
  display:block;
  font-size:0.68rem;
  opacity:0.78;
  margin-bottom:6px;
  color:rgba(255,255,255,0.86)
}

/* hint/reply/replay */
.hint{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  bottom:6vh;
  font-size:0.9rem;
  opacity:0.88;
  z-index:9;
  pointer-events:none
}
.hint.hidden{
  opacity:0;
  transition:opacity .28s
}
.reply-area{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  bottom:10vh;
  max-width:520px;
  width:min(92%,520px);
  padding:12px;
  border-radius:12px;
  background:rgba(8,10,18,0.9);
  border:1px solid rgba(150,160,200,0.06);
  z-index:1002;
  display:none;
  backdrop-filter:blur(6px)
}
.reply-area.show{
  display:block
}
.reply-label{
  font-size:0.78rem;
  opacity:0.85;
  margin-bottom:8px
}
.reply-row{
  display:flex;
  gap:8px
}
#replyInput{
  flex:1;
  padding:10px 12px;
  border-radius:999px;
  border:1px solid rgba(140,140,180,0.12);
  background:rgba(6,8,14,0.9);
  color:#fff;
  outline:none;
  font-size:1rem
}
#replyBtn{
  padding:9px 14px;
  border-radius:999px;
  background:#4b53e0;
  border:none;
  color:#fff;
  cursor:pointer;
  font-weight:600
}
#replyInput.shake{
  animation:shake .32s linear
}
.replay-btn{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  bottom:4.5vh;
  padding:8px 18px;
  border-radius:999px;
  background:rgba(10,12,24,.9);
  border:1px solid rgba(200,200,255,0.06);
  color:#fff;
  opacity:0;
  pointer-events:none;
  z-index:1002;
  transition:opacity .28s
}
.replay-btn.show{
  opacity:1;
  pointer-events:auto
}
.tap-area{
  position:absolute;
  inset:0;
  z-index:1000;
  cursor:pointer
}

/* responsive */
@media (max-width:720px){
  .couple{
     width: min(96vw, 420px);
     max-height: 78vh;
  }

  .line{
    max-width:260px;
    font-size:0.98rem;
  }
  .reply-area{
    bottom:calc(9vh + env(safe-area-inset-bottom, 0));
    width:min(95%,420px)
  }
  .hint{
    bottom:calc(5.2vh + env(safe-area-inset-bottom, 0));
    font-size:0.86rem
  }
}

/* animations */
@keyframes twinkle{
  0%,100%{
    opacity:0
  }50%{
    opacity:1
  }
}
@keyframes shake{
  0%{
    transform:translateX(0)
  }25%{
    transform:translateX(-6px)
  }50%{
    transform:translateX(6px)
  }75%{
    transform:translateX(-4px)
  }100%{
    transform:translateX(0)
  }
}
